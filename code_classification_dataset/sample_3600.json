{
    "prob_desc_time_limit": "2 seconds",
    "prob_desc_sample_outputs": "[\"0\\n1\\n1\\n2\"]",
    "src_uid": "52f1e9951279a29e9fe9e83f06c0791b",
    "prob_desc_notes": "NoteConsider the example. The dominoes are set like the picture below.  Let's take a look at the 4th plan. To make the 6th domino fall by pushing the 2nd domino, the length of the 3rd domino (whose x-coordinate is 4) should be increased by 1, and the 5th domino (whose x-coordinate is 9) should be increased by 1 (other option is to increase 4th domino instead of 5th also by 1). Then, the dominoes will fall like in the picture below. Each cross denotes a touch between two dominoes.           ",
    "prob_desc_description": "Celebrating the new year, many people post videos of falling dominoes; Here's a list of them: https://www.youtube.com/results?search_query=New+Years+Dominos User ainta, who lives in a 2D world, is going to post a video as well.There are n dominoes on a 2D Cartesian plane. i-th domino (1 ≤ i ≤ n) can be represented as a line segment which is parallel to the y-axis and whose length is li. The lower point of the domino is on the x-axis. Let's denote the x-coordinate of the i-th domino as pi. Dominoes are placed one after another, so p1 &lt; p2 &lt; ... &lt; pn - 1 &lt; pn holds.User ainta wants to take a video of falling dominoes. To make dominoes fall, he can push a single domino to the right. Then, the domino will fall down drawing a circle-shaped orbit until the line segment totally overlaps with the x-axis.   Also, if the s-th domino touches the t-th domino while falling down, the t-th domino will also fall down towards the right, following the same procedure above. Domino s touches domino t if and only if the segment representing s and t intersects.   See the picture above. If he pushes the leftmost domino to the right, it falls down, touching dominoes (A), (B) and (C). As a result, dominoes (A), (B), (C) will also fall towards the right. However, domino (D) won't be affected by pushing the leftmost domino, but eventually it will fall because it is touched by domino (C) for the first time.  The picture above is an example of falling dominoes. Each red circle denotes a touch of two dominoes.User ainta has q plans of posting the video. j-th of them starts with pushing the xj-th domino, and lasts until the yj-th domino falls. But sometimes, it could be impossible to achieve such plan, so he has to lengthen some dominoes. It costs one dollar to increase the length of a single domino by 1. User ainta wants to know, for each plan, the minimum cost needed to achieve it. Plans are processed independently, i. e. if domino's length is increased in some plan, it doesn't affect its length in other plans. Set of dominos that will fall except xj-th domino and yj-th domino doesn't matter, but the initial push should be on domino xj.",
    "prob_desc_output_spec": "For each plan, print a line containing the minimum cost needed to achieve it. If no cost is needed, print 0.",
    "prob_desc_input_spec": "The first line contains an integer n (2 ≤ n ≤ 2 × 105)— the number of dominoes. Next n lines describe the dominoes. The i-th line (1 ≤ i ≤ n) contains two space-separated integers pi, li (1 ≤ pi, li ≤ 109)— the x-coordinate and the length of the i-th domino. It is guaranteed that p1 &lt; p2 &lt; ... &lt; pn - 1 &lt; pn. The next line contains an integer q (1 ≤ q ≤ 2 × 105) — the number of plans. Next q lines describe the plans. The j-th line (1 ≤ j ≤ q) contains two space-separated integers xj, yj (1 ≤ xj &lt; yj ≤ n). It means the j-th plan is, to push the xj-th domino, and shoot a video until the yj-th domino falls.",
    "prob_desc_output_to": "standard output",
    "prob_desc_input_from": "standard input",
    "lang": "PyPy 2",
    "lang_cluster": "Python",
    "difficulty": 2300,
    "file_name": "train_072.jsonl",
    "code_uid": "6934d39b955597d8710ea6f145228b2c",
    "prob_desc_memory_limit": "256 megabytes",
    "prob_desc_sample_inputs": "[\"6\\n1 5\\n3 3\\n4 4\\n9 2\\n10 1\\n12 1\\n4\\n1 2\\n2 4\\n2 5\\n2 6\"]",
    "exec_outcome": "PASSED",
    "source_code": "import sys\nrange = xrange\ninput = raw_input\n\nclass segtree:\n    def __init__(s, data, f):\n        s.n = len(data)\n        s.m = 1\n        s.f = f\n        while s.m < s.n:\n            s.m *= 2\n        s.data = [0]*(2 * s.m)\n        s.data[s.m: s.m + s.n] = data\n        for i in reversed(range(1, s.m)):\n            s.data[i] = f(s.data[2 * i], s.data[2 * i + 1])\n    def set(s, i, x):\n        i += s.m\n        while i:\n            s.data[i] = x\n            x = s.f(x, s.data[i ^ 1])\n            i >>= 1\n    def query(s, l, r):\n        l += s.m\n        r += s.m\n        x = s.data[l]\n        while l<r:\n            if l & 1:\n                x = s.f(x, s.data[l])\n                l += 1\n            if r & 1:\n                x = s.f(x, s.data[r - 1])\n            l >>= 1\n            r >>= 1\n        return x\n\ninp = [int(x) for x in sys.stdin.read().split()]\nii = 0\n\nn = inp[ii]\nii += 1\n\nL = inp[ii:ii + 2*n:2]\nlens = inp[ii + 1:ii + 2*n:2]\nii += 2*n\nR = [L[i] + lens[i] + 1 for i in range(n)]\nRseg = segtree(R, max)\n\nDP = [0]*n\nDPseg = segtree(DP, min)\nfor i in reversed(range(n - 1)):\n    if R[i] <= L[i + 1]:\n        DP[i] = L[i + 1] - R[i] + 1 + DP[i + 1]\n    else:\n        a = i + 1\n        b = n - 1\n        r = R[i]\n        while a < b:\n            c = a + b + 1 >> 1\n            if L[c] < r:\n                a = c\n            else:\n                b = c - 1\n        DP[i] = DPseg.query(i + 1, a + 1)\n        if a + 1 < n:\n            DP[i] = min(DP[i], L[a + 1] - r + 1 + DP[a + 1])\n    DPseg.set(i, DP[i])\n\nq = inp[ii]\nii += 1\n\nout = []\nfor _ in range(q):\n    x = inp[ii] - 1\n    ii += 1\n    y = inp[ii]\n    ii += 1\n\n    cost = DP[x]\n    r = Rseg.query(x,y)\n        \n    a = y - 1\n    b = n - 1\n    while a < b:\n        c = a + b + 1 >> 1\n        if L[c] < r:\n            a = c\n        else:\n            b = c - 1\n    cost -= DPseg.query(x, a + 1)\n    out.append(cost)\n\nprint '\\n'.join(str(x) for x in out)\n",
    "prob_desc_created_at": "1419951600",
    "tags": [
        "dp",
        "dsu",
        "data structures"
    ],
    "hidden_unit_tests": ""
}