{
    "prob_desc_time_limit": "1 second",
    "prob_desc_sample_outputs": "[\"? 1 2 3\\n\\n? 2 3 4\\n\\n? 3 4 1\\n\\n? 4 1 2\\n\\n! 2 3\"]",
    "src_uid": "84e79bd83c51a4966b496bb767ec4f0d",
    "prob_desc_notes": "NoteArray from sample: $$$[1, 2, 0, 3]$$$.",
    "prob_desc_description": "  This is an interactive problem.We picked an array of whole numbers $$$a_1, a_2, \\ldots, a_n$$$ ($$$0 \\le a_i \\le 10^9$$$) and concealed exactly one zero in it! Your goal is to find the location of this zero, that is, to find $$$i$$$ such that $$$a_i = 0$$$.You are allowed to make several queries to guess the answer. For each query, you can think up three distinct indices $$$i, j, k$$$, and we will tell you the value of $$$\\max(a_i, a_j, a_k) - \\min(a_i, a_j, a_k)$$$. In other words, we will tell you the difference between the maximum and the minimum number among $$$a_i$$$, $$$a_j$$$ and $$$a_k$$$.You are allowed to make no more than $$$2 \\cdot n - 2$$$ queries, and after that you have two tries to guess where the zero is. That is, you have to tell us two numbers $$$i$$$ and $$$j$$$ and you win if $$$a_i = 0$$$ or $$$a_j = 0$$$.Can you guess where we hid the zero?Note that the array in each test case is fixed beforehand and will not change during the game. In other words, the interactor is not adaptive.",
    "prob_desc_output_spec": null,
    "prob_desc_input_spec": "Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 500$$$). Description of the test cases follows. The first and only line of each test case contains an integer $$$n$$$ ($$$4 \\le n \\le 1000$$$) — the length of the array that we picked. It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$3000$$$.",
    "prob_desc_output_to": "standard output",
    "prob_desc_input_from": "standard input",
    "lang": "PyPy 3-64",
    "lang_cluster": "Python",
    "difficulty": 2000,
    "file_name": "train_108.jsonl",
    "code_uid": "800f9dc80ec285a65de19b14bcb9801e",
    "prob_desc_memory_limit": "256 megabytes",
    "prob_desc_sample_inputs": "[\"1\\n\\n4\\n\\n2\\n\\n3\\n\\n3\\n\\n2\"]",
    "exec_outcome": "PASSED",
    "source_code": "from sys import stdin, stdout, exit\r\ninput = stdin.readline\r\n\r\ndef f(i, j, k):\r\n    aaa = [i, j, k]\r\n    aaa.sort()\r\n    i, j, k = aaa[0], aaa[1], aaa[2]\r\n    \r\n    if (i, j, k) in d.keys():\r\n        return d[(i, j, k)]\r\n\r\n    print('?', i, j, k)\r\n    stdout.flush()\r\n\r\n    a = int(input())\r\n\r\n    d[(i, j, k)] = a\r\n\r\n    return a\r\n\r\nt = int(input())\r\n\r\nfor _ in range(t):\r\n    n = int(input())\r\n    d = dict()\r\n    aa = []\r\n\r\n    for x in range(3, n + 1):\r\n        b = f(1, 2, x)\r\n        aa.append([b, x])\r\n\r\n    aa.sort()\r\n\r\n    bb = []\r\n\r\n    if aa[0][0] == aa[-1][0]:\r\n        for x in range(1, n + 1):\r\n            if x == 3 or x == 4:\r\n                continue\r\n\r\n            c = f(3, 4, x)\r\n            bb.append([c, x])\r\n\r\n        bb.sort()\r\n\r\n        if bb[0][0] == bb[-1][0]:\r\n            t1 = f(1, 2, 3)\r\n            t2 = f(3, 4, 1)\r\n\r\n            if t1 > t2:\r\n                print('!', 1, 2)\r\n            else:\r\n                print('!', 3, 4)\r\n        else:\r\n            tt1, tt2, tt3, tt4 = 1, 2, bb[-1][1], bb[-2][1]\r\n\r\n            if bb[-1][1] == 1 or bb[-1][1] == 2:\r\n                tt3 = 3\r\n\r\n            if bb[-2][1] == 1 or bb[-2][1] == 2 or bb[-2][1] == tt3:\r\n                if tt3 == 3:\r\n                    tt4 = 4\r\n                else:\r\n                    tt4 = 3\r\n\r\n            cc1 = f(tt1, tt2, tt3)\r\n            cc2 = f(tt1, tt2, tt4)\r\n            cc3 = f(tt1, tt3, tt4)\r\n            cc4 = f(tt2, tt3, tt4)\r\n\r\n            cc34 = min(cc3, cc4)\r\n\r\n            if cc34 < cc1:\r\n                print('!', tt1, tt2)\r\n            else:\r\n                print('!', tt3, tt4)\r\n\r\n        stdout.flush()\r\n\r\n    else:\r\n        if aa[-1][0] > aa[-2][0]:\r\n            b1 = aa[-1][1]\r\n            a1 = 1\r\n            ee = []\r\n\r\n            for x in range(1, n + 1):\r\n                if x == b1 or x == a1:\r\n                    continue\r\n\r\n                tt = f(b1, a1, x)\r\n\r\n                ee.append([tt, x])\r\n\r\n            ee.sort()\r\n\r\n            if ee[-1][0] == ee[0][0]:\r\n                print('!', b1, a1)\r\n            else:\r\n                print('!', b1, ee[-1][1])\r\n\r\n            stdout.flush()\r\n\r\n        else:\r\n            b1 = aa[-1][1]\r\n            b2 = aa[-2][1]\r\n            ee = []\r\n\r\n            for x in range(1, n + 1):\r\n                if x == b1 or x == b2:\r\n                    continue\r\n\r\n                tt = f(b1, b2, x)\r\n\r\n                ee.append([tt, x])\r\n\r\n            ee.sort()\r\n\r\n            if ee[0][0] == ee[-1][0]:\r\n                print('!', b1, b2)\r\n            else:\r\n                print('!', ee[-1][1], b1)\r\n\r\n            stdout.flush()\r\n\r\n    print()\r\n    stdout.flush()",
    "prob_desc_created_at": "1644158100",
    "tags": [
        "constructive algorithms",
        "interactive",
        "math"
    ],
    "hidden_unit_tests": ""
}