{
    "prob_desc_time_limit": "2 seconds",
    "prob_desc_sample_outputs": "[\"YES\\nNO\\nYES\\nNO\"]",
    "src_uid": "bf89bc12320f635cc121eba99c542444",
    "prob_desc_notes": "NoteIn the first test case, regardless of the strategy of his friends, Vlad can win by going to room $$$4$$$. The game may look like this:  The original locations of Vlad and friends. Vlad is marked in green, friends — in red.   Locations after one unit of time.   End of the game. Note that if Vlad tries to reach the exit at the room $$$8$$$, then a friend from the $$$3$$$ room will be able to catch him.",
    "prob_desc_description": "The only difference with E2 is the question of the problem..Vlad built a maze out of $$$n$$$ rooms and $$$n-1$$$ bidirectional corridors. From any room $$$u$$$ any other room $$$v$$$ can be reached through a sequence of corridors. Thus, the room system forms an undirected tree.Vlad invited $$$k$$$ friends to play a game with them.Vlad starts the game in the room $$$1$$$ and wins if he reaches a room other than $$$1$$$, into which exactly one corridor leads.Friends are placed in the maze: the friend with number $$$i$$$ is in the room $$$x_i$$$, and no two friends are in the same room (that is, $$$x_i \\neq x_j$$$ for all $$$i \\neq j$$$). Friends win if one of them meets Vlad in any room or corridor before he wins.For one unit of time, each participant of the game can go through one corridor. All participants move at the same time. Participants may not move. Each room can fit all participants at the same time. Friends know the plan of a maze and intend to win. Vlad is a bit afraid of their ardor. Determine if he can guarantee victory (i.e. can he win in any way friends play).In other words, determine if there is such a sequence of Vlad's moves that lets Vlad win in any way friends play.",
    "prob_desc_output_spec": "Print $$$t$$$ lines, each line containing the answer to the corresponding test case. The answer to a test case should be \"YES\" if Vlad can guarantee himself a victory and \"NO\" otherwise. You may print every letter in any case you want (so, for example, the strings \"yEs\", \"yes\", \"Yes\" and \"YES\" will all be recognized as positive answers).",
    "prob_desc_input_spec": "The first line of the input contains an integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$) — the number of test cases in the input. The input contains an empty string before each test case. The first line of the test case contains two numbers $$$n$$$ and $$$k$$$ ($$$1 \\le k &lt; n \\le 2\\cdot 10^5$$$) — the number of rooms and friends, respectively. The next line of the test case contains $$$k$$$ integers $$$x_1, x_2, \\dots, x_k$$$ ($$$2 \\le x_i \\le n$$$) — numbers of rooms with friends. All $$$x_i$$$ are different. The next $$$n-1$$$ lines contain descriptions of the corridors, two numbers per line $$$v_j$$$ and $$$u_j$$$ ($$$1 \\le u_j, v_j \\le n$$$) — numbers of rooms that connect the $$$j$$$ corridor. All corridors are bidirectional. From any room, you can go to any other by moving along the corridors. It is guaranteed that the sum of the values $$$n$$$ over all test cases in the test is not greater than $$$2\\cdot10^5$$$.",
    "prob_desc_output_to": "standard output",
    "prob_desc_input_from": "standard input",
    "lang": "PyPy 3-64",
    "lang_cluster": "Python",
    "difficulty": 1700,
    "file_name": "train_093.jsonl",
    "code_uid": "14aba60c00471c41a7eab00823af4f35",
    "prob_desc_memory_limit": "256 megabytes",
    "prob_desc_sample_inputs": "[\"4\\n\\n8 2\\n5 3\\n4 7\\n2 5\\n1 6\\n3 6\\n7 2\\n1 7\\n6 8\\n\\n3 1\\n2\\n1 2\\n2 3\\n\\n3 1\\n2\\n1 2\\n1 3\\n\\n3 2\\n2 3\\n3 1\\n1 2\"]",
    "exec_outcome": "PASSED",
    "source_code": "# RANK1ZEN; 3966 PEAK NA FLEX SUPPORT; Battlenet ID: Knuckles#11791\r\n# region -----------------------------------------------------------------------------------------|\r\n# oooo+oshdy+/smooyNMNNMMMmo/::----/dNsomMMMNNMy/::--::/mNoodNdmdo/:-://////::::::::.        \r\n# ooooyNMMMyssNyosmMMMMMMNs+::----::++//+oooooo/::----:/ys+oNNdMMo/:-/+mmdy+///::::::.       \r\n# ooooNMMMdyoNdoosNmmdyhyo/::------:::::::::::::-------::::/+++so/:::/+dMMNhydosso+///.``````\r\n# oo/yNmMms+oyo///++///:::::-.------------------------------::::::::-:/odmNhyNsdMNmmy+/......\r\n# o//oooo+/-:::::::::::::::---------------------.---------------:::-.::://+++yohMMMMNs+-.....\r\n# +:::::::--::::::::::--::-.-::::::::----------.-:----:-----------:---:-::::::/ohhNMNo+-.....\r\n# ::::::::.-:::::::::-:::-`.:::::::::-:::::::----::::::--::::::-::::d:---::::::://+os//-`.`..\r\n# --------.:::::::--:::::. -::::::::--::::::--o/:::::::-::::::::::-yNs-:.::::::::::::::-..`..\r\n# --------.:-::::-::::::- `::::::::-:::::::-:ym:::::::-:::::::::::+NMN+---:::::::::::::-.....\r\n# --------.-----::::::::. .:://///::////:::+dMy//////:////////:::/mMMMm/:-:::::::::::::--....\r\n# --------.----:::::::::``://////:///////+yNMM+++++//++++/////://hmmNNNd::-::::::::::::--....\r\n# --------.----::::::::-``://++//+++++++ymmNMd+oo+++ooo++++++/++dNmdhhhys:-::::::::::::-:`...\r\n# --------.----::::::::-``//++//++++++hNMMMMMoso++ooooooooo++o+dmNNNMMMMMm+://:::::://::/....\r\n# --------:----::::::::-``////++++++/--+smNNhsooosssssoooo+oosmNMMMMMMMMMMN///////////-:/....\r\n# -------/o-----:::::::-``://+++:. :NMydhohhooosssssssso+osodMNMNhyssyyhdmMo++++++++++./+....\r\n# -------sd-----:::::::-`.:/oo/.://.-hddMMh+ossssssssss+soyNms/.`  `:- `  `:++++/++++/ /+-.-.\r\n# -------ym/-----:::::::/shhyh:/ymddo./mdysssssssssoyyossmMMh-     .mMhdNds:ooo/ooooo- ++---.\r\n# -------hhy----------:-sNNNNmhysyssoyysssoossssoshmyosdMMMMs ..///`-hysMMh/oo/ooooo/ `oo----\r\n# ----`-..od/---::::::::oNNNNNNNNmdysoooooooooyhmNdsymMMMMMMm:/oydds+:ymmMhoo+oooooo` `oo----\r\n# ----``-  `-.---:::::::+dddddhyo++++oooosyhmNMNhshNMMMMMMMMMNmmhhyo+sydNmoo++ooooo.  -oo----\r\n# ----- ``    ----:::::::ooooooosssyhhdNNNMMNdyydNMMmMMMMMMMMNNNNmNmmmNmmoohsoooo+.   :++.---\r\n# -----.      `----:::::-mNNNNmNNMMMMMMMNmdhhdNMMMMMMMMMMMMMMNMNNmNmmmmmhshs:ooo/`   `/+:----\r\n# ------`      .::::::::-yMMMMNNNNmmddhyhdNNMMMMMMMMMMMMMMMMMMMMNNNNNmmNh+-`/o+-     .//--::-\r\n# .------`      -::-::::::osssssyhhdmNNMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMh`  -/-`      ://--::-\r\n#  `.-----`      ---------yNNNMMMMMMMMNNmmmmmmNNNMMMMMMMMMMMMMMMMMMMMMh.  `. .      `:::--::-\r\n# /` `-----`     `--:-----+MMMMMMMMMMMh++++++++ooosyhNMMMMMMMMMMMMMMMy`     `-      -::--::::\r\n# o+.  `.---`     `-::-----mMMMMMMMMMMNy+ssyyyyso++/+dMMMMMMMMMMMMMN+`      -.     .:::-:::::\r\n# -//-`  `.--.`    `-------oMMMMMMMMMMMMNmdddmmmmmhdNMMMMMMMMMMMMmo.       `:.    `:::-::::::\r\n# :-```     `..`     .------ymNMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMNmy/`         -:.    -:::-::::::\r\n# ooo+//:-.`    `     .-----:ddddmNMMMMMMMMMMMMMMMMMMMMMMMNho:`           -::`   .///-:::::::\r\n# oooooo+++-           `-:::-+ddddhddmNMMMMMMMMMMMMMMNdy+-`             `-:::`  `////-:::::::\r\n# oooooo++:              .::::.+dddddddhddmmMMMMNds+-`               `.-:::::` `/+++-::::::::\r\n# oooooo+:                `:/// `sdmddddddddhdy-`                 .-:::::::::  /ooo/-::::::/:\r\n\r\n# ----..../hNMMMMNNNmyyhdddyhmmmmdddmmmmmmmNmy- `.-+hmdsmmNmmmmhydmmmhs/.+NNNMh-...------:/+y\r\n# --....+mMMMMMNNNmyydmmhosddmmdoyhymmmmmmmm+``-/shmmhsddmmmmmmmdsydmmmmmyodNNMNy.`...----:+s\r\n# -...omMMNNNNNNNyydmhyosdmmmmyohs/hmmmmmmm/-:ohmmNmhymhsdmmmsddmdhsddmmdhhdNNMMMNs-`....-:+o\r\n# ..+dMNNNmdmmmhshhyys:hdmmmdohdyymNNmmmmmmdddmmmhsdommmohdmmdohddddshdmmmmdhmMMMMMNh/....:/o\r\n# :dNdNNNmmdydsyysyy+sdysdmssddsdNNNmmmmdmmmdmmm:.-hdmddhoddddd+hddddsyddmmmmhhdNMMMMMd+.`-/o\r\n# NNy+Nmmmmmdoyyhy/+hdmddh+shdsdNNmmmmhydds:hmm:``.ydmmddyoddddh+ysdddyyddddmdddyhdmNMMMNy//o\r\n# +.`ommmmmh+yhhs+ydddddh-+ydohmNNmmmyyhs-`-mmo``..ymmmmmdssdddm+yysdddsshddddddddhyydNMMMMNd\r\n# ``-mmmmmy/ydyoyddmdddy.-yhoydhmmmmohs-```+Nd.....smNmmdddosdddh:h+yddhssdddddddddmdhydmNMMM\r\n# `.dNmmmoshysydmdddddy.`+dysdhsNNd/+-..```hNs.....+mmmmyhdd+sddm/hohshhhoydddhddddmmmmdyhNMM\r\n# `yNmmmsysoyddmmdddmd.`.hdomhsmNd-``.``.:-mN:``..`.mmmmmddddoodm+hoddsyhdohddsoydmmmmmmmhhMM\r\n# +NNNmsooysosddmddddo``:mohNodNm-````.-+o:Nm. -`.``smmmmmmmmmo:s/oodmdsydd/ohdh+/shmmmmmmdNM\r\n# NNmhyosoy+hdddddddd...oh/Nh+Nm:````-+oso:md`-o/```-mmmmmmmmmmh:`-/ddhdyymy.-odmy/:odmddmNNM\r\n# yoo+yhdmhydmdddmddy`::hosNohNs```./oymNd:mh`shs/. `smmdsmmmmmNm/-`+s+/syymo`.:ymNs-/yy+dNMM\r\n# y/ooNNNm+/ydddmmmdh-/sd/dN+dN-`./ohmMMMN/my:NMMmy:`.hds+:odNNNNy`/-.-.-/++m/`.-/dNh--+//mMM\r\n# :`:/so+:.:dmmmmmmmdo:hy+NN/mh.-+ohmmmddd:y+oNMMMMmy/:hs/+.-+hNN/-Nmy:...../d-``-:smh....oMM\r\n# ` ---..``-mmmmmmmdyy.y+yNN.d/ohmNNNNmmdd+o-:oodMMMMNy/y::+.`.:o`yMMMmh+:...:/```--+dy..-/mM\r\n# - ---.-h+.dmmmmmdmho++/dMm -`:/:://ososy+/:oNNNMMMMMMmos-:/-.  `+ymNNmdhy+:-` ..`-:/ho.-+hM\r\n# -`---:mMd-dmmmmmdmmms/`++-             ./-++hmMMMMMMMMNs+.s+-`  ``.-/syhhso+:.````::/o.-+yN\r\n# -`-:-:NMMssmmmmmmdmmNh+./-.-`.   ``  /-..:-sMMMMMMMMMMMMd:ohyo:.`-//:--:+yhhs/-.` .:::.-+yh\r\n# /-./:-+NMm-dmmdddddmmmmho-om- ://s+ /Nddmmo:MMMMMMMMMMMMMh``-::/:.`-osyyso.:.-:...-:....+sy\r\n# :-.:/:-/Nm-+mmmmddddmmmmmhosy.ssy++yNMMMMMN/mMMMMMMMMMMMy.`     ..  -yNNmy....::.`:-.-``/hM\r\n#    `-::-+mmohmmmddddddddmmmdy+yNMMMMMMMMMMMdoNNNNNNNNMMMy`.`..  sd: `+MNo.--.`://`..---`-hM\r\n# :::-.` ``:dMyymmmdddddddddddddysymNMMMMMMMMNyodmdmmmmNNNy/oo::.oMMmhdmy-...:.`:/:`-//:-``hM\r\n# ``    `...-oy:ymmmhsddddddddhdhyysyhmNMMMNNNmyddddsydmmNNhhyshNMMMMMN+.``:.`.`:/-://///:.:y\r\n#    .://:..-:-.`yNNd+-ohdddddddho+ssssshmNNNNmmdddh`-ydmNNMMMMMMMMMMh-...`.:-  :://::///:/ss\r\n#  ./++/--::`:-. `hNNm+`.odmmmdddhsosyso+osdNNNmmmmh`.hmNMMMMMMMMMMMs..---.`.-. -.-::::-:/+yh\r\n# -+///--:::`---. .dNNN+  -sdmdmdddhyshNdy+/ohNNNmdy:yNNMMMMMMMMMMN+..--:::::-. .--`.-//-:+yd\r\n# /::::`-:::-`-`/ `-mMMm-`  .ohmmdddddysdNNho/+ymdhdMMMMMMMMMMMMMN/..---:::::/:-:-..`.----:yd\r\n# h:::-``.----`.:``.+NNNo``   -/yddmmdddyyNMMdo-oNMMMMMMMMMMMMMMd:.----::::::/-:///:.``..``:y\r\n# Ms---.`...--.:.`:o:mMNd```  -//:osshdddyoyNNNy`sMMMMMMMMMMMMNs..---:::::::/::////+:` :/:--.\r\n# sNh/-.````` .`./oo/yNMN-``` :+++/:+/:ydddo+dmNy-MMMMMMMMMNdo-.---:::::::://:///+++/  ./++o+\r\n# -omMh/.     ./++++:hNNN: `` :oooo+///./hddoyNMN/MMMMMNmy+-.---::::::://///////+++/.. ./+oyh\r\n# `-:smmo:+o+osss+/:-mNNs` ` `///+ooo+-: -hmm/dMMsMNho/-.---:::::::///////////+++/--/+`/++oys\r\n# endregion---------------------------------------------------------------------------------------|\r\n\r\nimport sys\r\nfrom heapq import *\r\nfrom bisect import *\r\nfrom collections import *\r\nfrom math import ceil, floor, log, sqrt, gcd\r\n\r\nmod  = 1000000007\r\nmod9 = 998244353\r\nMX   = 200003\r\nnl   = \"\\n\"\r\n\r\ndef file_io():\r\n    sys.stdin = open(r\"\", \"r\")\r\n    sys.stdout = open(r\"\", \"w\")\r\n\r\ndef re(data=str): return data(sys.stdin.readline().rstrip())\r\ndef mp(data=str): return map(data, sys.stdin.readline().split())\r\n\r\ndef solve(tc):\r\n    re()\r\n    n, k = mp(int)\r\n    x = list(mp(int))\r\n\r\n    G = [[] for _ in range(n)]\r\n    for  _ in range(n - 1):\r\n        u, v = mp(int)\r\n        G[u - 1].append(v - 1)\r\n        G[v - 1].append(u - 1)\r\n    \r\n    Q = deque([])\r\n    colour = [0] * n\r\n    def bfs(start):\r\n        for i in x:\r\n            Q.append(i - 1)\r\n            colour[i - 1] = 2\r\n        Q.append(0)\r\n        colour[0] = 1\r\n        while (Q):\r\n            cur = Q.popleft()\r\n            for nxt in G[cur]:\r\n                if not colour[nxt]:\r\n                    colour[nxt] = colour[cur]\r\n                    Q.append(nxt)\r\n            \r\n\r\n    bfs(0)\r\n    for i in range(1, n):\r\n        if len(G[i]) == 1 and colour[i] == 1:\r\n            print(\"YES\"); return\r\n    print(\"NO\")\r\n\r\n    \r\n\r\n\r\n\r\n\r\n    return None\r\n\r\ndef main():\r\n    # file_io()\r\n    tests = 1; tests = re(int)\r\n    for tc in range(1, tests + 1): solve(tc)\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n",
    "prob_desc_created_at": "1637850900",
    "tags": [
        "dfs and similar",
        "greedy",
        "shortest paths",
        "trees",
        "two pointers"
    ],
    "hidden_unit_tests": ""
}