{
    "prob_desc_time_limit": "2 seconds",
    "prob_desc_sample_outputs": "[\"1\\n4\", \"-1\", \"9\\n1 2 3 4 5 9 11 12 13\"]",
    "src_uid": "fdc491122e3895f1fe3fcdccf657fa26",
    "prob_desc_notes": "NoteIn the first example, if you don't remove any flowers, the machine would put out two workpieces with flower types $$$[1, 2, 3]$$$ and $$$[3, 2, 1]$$$. Those workpieces don't fit Diana's schematic. But if you remove flower on $$$4$$$-th place, the machine would output workpieces $$$[1, 2, 3]$$$ and $$$[2, 1, 2]$$$. The second workpiece fits Diana's schematic.In the second example there is no way to remove flowers so that every citizen gets a wreath and Diana gets a workpiece that fits here schematic.In the third example Diana is the only citizen of the town and that means she can, for example, just remove all flowers except the ones she needs.",
    "prob_desc_description": "At the first holiday in spring, the town Shortriver traditionally conducts a flower festival. Townsfolk wear traditional wreaths during these festivals. Each wreath contains exactly $$$k$$$ flowers.The work material for the wreaths for all $$$n$$$ citizens of Shortriver is cut from the longest flowered liana that grew in the town that year. Liana is a sequence $$$a_1$$$, $$$a_2$$$, ..., $$$a_m$$$, where $$$a_i$$$ is an integer that denotes the type of flower at the position $$$i$$$. This year the liana is very long ($$$m \\ge n \\cdot k$$$), and that means every citizen will get a wreath.Very soon the liana will be inserted into a special cutting machine in order to make work material for wreaths. The machine works in a simple manner: it cuts $$$k$$$ flowers from the beginning of the liana, then another $$$k$$$ flowers and so on. Each such piece of $$$k$$$ flowers is called a workpiece. The machine works until there are less than $$$k$$$ flowers on the liana.Diana has found a weaving schematic for the most beautiful wreath imaginable. In order to weave it, $$$k$$$ flowers must contain flowers of types $$$b_1$$$, $$$b_2$$$, ..., $$$b_s$$$, while other can be of any type. If a type appears in this sequence several times, there should be at least that many flowers of that type as the number of occurrences of this flower in the sequence. The order of the flowers in a workpiece does not matter.Diana has a chance to remove some flowers from the liana before it is inserted into the cutting machine. She can remove flowers from any part of the liana without breaking liana into pieces. If Diana removes too many flowers, it may happen so that some of the citizens do not get a wreath. Could some flowers be removed from the liana so that at least one workpiece would conform to the schematic and machine would still be able to create at least $$$n$$$ workpieces?",
    "prob_desc_output_spec": "If it's impossible to remove some of the flowers so that there would be at least $$$n$$$ workpieces and at least one of them fullfills Diana's schematic requirements, output $$$-1$$$. Otherwise in the first line output one integer $$$d$$$  — the number of flowers to be removed by Diana. In the next line output $$$d$$$ different integers  — the positions of the flowers to be removed. If there are multiple answers, print any.",
    "prob_desc_input_spec": "The first line contains four integers $$$m$$$, $$$k$$$, $$$n$$$ and $$$s$$$ ($$$1 \\le n, k, m \\le 5 \\cdot 10^5$$$, $$$k \\cdot n \\le m$$$, $$$1 \\le s \\le k$$$): the number of flowers on the liana, the number of flowers in one wreath, the amount of citizens and the length of Diana's flower sequence respectively. The second line contains $$$m$$$ integers $$$a_1$$$, $$$a_2$$$, ..., $$$a_m$$$ ($$$1 \\le a_i \\le 5 \\cdot 10^5$$$)  — types of flowers on the liana. The third line contains $$$s$$$ integers $$$b_1$$$, $$$b_2$$$, ..., $$$b_s$$$ ($$$1 \\le b_i \\le 5 \\cdot 10^5$$$)  — the sequence in Diana's schematic.",
    "prob_desc_output_to": "standard output",
    "prob_desc_input_from": "standard input",
    "lang": "Python 3",
    "lang_cluster": "Python",
    "difficulty": 1900,
    "file_name": "train_011.jsonl",
    "code_uid": "9d559d82b14b27945475e0341e8b351a",
    "prob_desc_memory_limit": "256 megabytes",
    "prob_desc_sample_inputs": "[\"7 3 2 2\\n1 2 3 3 2 1 2\\n2 2\", \"13 4 3 3\\n3 2 6 4 1 4 4 7 1 3 3 2 4\\n4 3 4\", \"13 4 1 3\\n3 2 6 4 1 4 4 7 1 3 3 2 4\\n4 3 4\"]",
    "exec_outcome": "PASSED",
    "source_code": "from sys import exit\nn, k, m, s = map(int, input().split())\na = list(map(int, input().split()))\nc = list(map(int, input().split()))\nneed = len(c)\nrez = n - m * k\nkek = [0 for i in range(500007)]\ncur_kek = [0 for i in range(500007)]\nfor i in c:\n    kek[i] += 1\nr = 0\nif (rez == 0):\n    lol = need\n    for i in range(0, n, k):\n        for j in range(i, i + k):\n            if kek[a[j]] > cur_kek[a[j]]:\n                need -= 1\n            cur_kek[a[j]] += 1\n        if (need == 0):\n            print(0)\n            break\n        for j in range(i, i + k):\n            cur_kek[a[j]] = 0\n    else:\n        print(-1)\n    exit(0)\nmeshayut = 0 if kek[a[0]] else 1\nif kek[a[0]]:\n    need -= 1\ncur_kek[a[0]] += 1\nans = []\nfor l in range(n):\n    while need > 0 and r < n - 1:\n        r += 1\n        if (kek[a[r]] > cur_kek[a[r]]):\n            need -= 1\n            cur_kek[a[r]] += 1\n        else:\n            cur_kek[a[r]] += 1\n            meshayut += 1\n        #print(r, need)\n    need_to_cut = l % k\n    cur = r - l + 1\n    razn = cur - k\n    #print(l, r, need_to_cut, razn, meshayut, cur, need)\n    #print(need, razn + need_to_cut, rez, meshayut + not_useful, razn + need_to_cut)\n    if (need == 0 and razn + need_to_cut <= rez and meshayut >= razn):\n        rezhem = razn\n        for j in range(l - need_to_cut, l):\n            ans.append(j + 1)\n        for j in range(l, r + 1):\n            if kek[a[j]]:\n                kek[a[j]] -= 1\n            elif rezhem:\n                ans.append(j + 1)\n                rezhem -= 1\n        print(len(ans))\n        print(' '.join(map(str, ans)))\n        break\n    if (kek[a[l]]):\n        if cur_kek[a[l]] > kek[a[l]]:\n            meshayut -= 1\n        else:\n            need += 1\n    else:\n        meshayut -= 1\n    cur_kek[a[l]] -= 1\nelse:\n    print(-1)",
    "prob_desc_created_at": "1551627300",
    "tags": [
        "two pointers",
        "implementation",
        "greedy"
    ],
    "hidden_unit_tests": ""
}